<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Rongfei" />
        <meta name="copyright" content="Rongfei" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="git, 版本控制, tools,git, " />

<meta property="og:title" content="git基础使用 "/>
<meta property="og:url" content="/gitji-chu-shi-yong.html" />
<meta property="og:description" content="" />
<meta property="og:site_name" content="LearnDevOps" />
<meta property="og:article:author" content="Rongfei" />
<meta property="og:article:published_time" content="2016-07-15T00:00:00+08:00" />
<meta name="twitter:title" content="git基础使用 ">
<meta name="twitter:description" content="">

        <title>git基础使用  · LearnDevOps
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="/"><span class=site-name>LearnDevOps</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="">Home</a></li>
                            <li ><a href="/pages/about-me.html">About Me</a></li>
                            <li ><a href="/categories.html">Categories</a></li>
                            <li ><a href="/tags.html">Tags</a></li>
                            <li ><a href="/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="/gitji-chu-shi-yong.html"> git基础使用  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <h1 id="1-git">1. 理解git工作流</h1>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%">1. 工作区, edit file 在这里编辑文件
2. 缓存区, git add 提交到这里
3. HEAD区, git commit 提交到这里
4. remote, git push 推送到远端仓库
你的本地仓库是由git维护的三棵“树”组成。第一个是你的 工作目区，它持有实际文件；第二个是 缓存区（Index），它像个缓存区域，临时保存你的改动(add)；最后是 HEAD，它指向你最后一次提交的结果(commit)。

这三个区的关系是连续的，
在工作区中新建文件or目录 ---&gt; 然后是git add到缓存区（在svn中又叫纳入版本管理），--&gt; 然后提交代码到HEAD（git commit)--&gt;最后推送到远端仓库(git push)
</pre></div>


<h1 id="2">2. 基础命令</h1>
<h2 id="21-git-init">2.1. 创建新仓库(git init)</h2>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%">mkdir dirname #创建一个目录名为dirname
cd dirname
git init     #初始化git仓库也叫创建仓库
</pre></div>


<h2 id="22-git-clone">2.2. 检出仓库(git clone)</h2>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%">git clone /path/to/repository
git clone username@host:/path/to/repository
</pre></div>


<h2 id="23-git-add-git-commit">2.3. 添加和提交(git add / git commit)</h2>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%">git add &lt;filename or dirname&gt;
git commit &lt;filename or dirname&gt;
</pre></div>


<h2 id="24">2.4. 推送改动</h2>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%">git push origin &lt;master&gt;  #master 为任意远端branch
还没有clone仓库，但想把本地代码推送到远端仓库可用直接添加：
git remote add origin &lt;server&gt;
cd existing_folder
git init
git remote add origin http://git.ztgt.cn/ztgt/op.git
git add .
git commit
git push -u origin master
</pre></div>


<h1 id="3-branch">3. 分支(branch)</h1>
<p>分支的作用是用来将特性开发绝缘开来。在你创建仓库的时候默认分支是master。在其他分支上进行开发，完成后再将它们合并到主分支上。创建分支的时候会把当前分支的代码复制过去。
  分支流程：创建分支&ndash;&gt;修改代码&ndash;&gt;合并分支到主干上</p>
<p>## 创建分支</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%">➜ mkdir test #创建一个test目录
➜ git init   #初始化一个git仓库 默认为master分支
Initialized empty Git repository in /path/test/.git/

➜ test git:(master) touch readme.md  # 创建一个readme.md文件
➜ test git:(master) ✗ git add readme.md #提交到缓存区
➜ test git:(master) ✗ git commit -m&#39;add reade&#39; readme.md #提交到HEAD
 [master (root-commit) f674b2f] add reade
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 readme.md

➜ test git:(master) git branch #查看当前分支
* master
</pre></div>


<p>## 创建分支(git branch branchname)：</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%">➜  test git:(master) git branch  0.1  #创建一个分支，名为0.1
➜  test git:(master) git branch       #查看当前分支
0.1
* master
</pre></div>


<p>＃＃ 切换分支(git checkout branchname):</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%">➜  test git:(master) git checkout 0.1 #切换分支
Switched to branch &#39;0.1&#39;
➜  test git:(0.1) git branch          #列出当前仓库中的分支，当前分支前有一个*标识
* 0.1
  master
➜  git checkout master  #切换回主分支
</pre></div>


<p>## 删除分支( git branch -d branchname)</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%">➜  test git:(0.1) git branch -d 0.1  #删除分支，不能删除当前所在分支
error: Cannot delete the branch &#39;0.1&#39; which you are currently on.
➜  test git:(0.1) git checkout master
Switched to branch &#39;master&#39;
➜  test git:(master) git branch -d -.1
➜  test git:(master) git branch -d 0.1  #这下就删掉了
Deleted branch 0.1 (was f674b2f).
➜  test git:(master) git branch
* master
</pre></div>


<h1 id="4-git-fetchgit-merge-git-pull">4. 更新(git fetch)与合并(git merge) git pull</h1>
<p>git pull 命令做了2件事情  1.获取（fetch） 2.合并（merge） 远端的改动。
  相当于是先执行 git fetch;然后再执行git merge
  要合并其他分支到你的当前分支（例如 master），执行：
  <code>git merge &lt;branch&gt;</code>
  在这两种情况下，git 都会尝试去自动合并改动。遗憾的是，这可能并非每次都成功，并可能出现冲突（conflicts）。 这时候就需要你修改这些文件来手动合并这些冲突（conflicts）。改完之后，你需要执行如下命令以将它们标记为合并成功：
  <code>git add &lt;filename&gt;</code>
  在合并改动之前，你可以使用如下命令预览差异：
  <code>git diff &lt;source_branch&gt; &lt;target_branch&gt;</code></p>
<h1 id="5">5.替换本地改动</h1>
<p>假如你操作失误（当然，这最好永远不要发生），你可以使用如下命令替换掉本地改动：
  <code>git checkout &lt;filename&gt;</code>
此命令会使用 HEAD 中的最新内容替换掉你的工作目录中的文件。已添加到暂存区的改动以及新文件都不会受到影响。</p>
<p>假如你想丢弃你在本地的所有改动与提交，可以到服务器上获取最新的版本历史，并将你本地主分支指向它：
<code>git fetch origin</code>
<code>git reset --hard origin/master</code></p>
            
            
            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2016-07-15T00:00:00+08:00"> 7 15, 2016</time>
            <h4>Category</h4>
            <a class="category-link" href="/categories.html#toolsgit-ref">tools,git</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="/tags.html#ban-ben-kong-zhi-ref">版本控制
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#git-ref">git
                    <span>2</span>
</a></li>
            </ul>
        </div>
        </section>
</div>

<!-- 多说评论框 start -->
<div class="ds-thread" data-thread-key="git基础使用" data-title="git基础使用" data-url="http://blog.pyshell.cn/gitji-chu-shi-yong.html"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"devops"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->
<!-- baidu tongji   -->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?b6fb6111b823b418109202b642b4a62b";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<!-- baidu tongji  end -->

</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>